{
  "hash": "e2a459979d0601e89581dd4cec7821eb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Project 1\"\nexecute:\n  eval: false\nproject:\n  execute-dir: project\n---\n\n\n\n\nProject 1 is about a single cell sequencing project of zebrafish retina. Photoreceptors were damaged with MNU and the response was investigated with help of transgenic fish that contained contstruct with a non-coding element (careg) regulating attached to a EGFP transcript, that can be used as regenerative activation marker. For single-cell transcriptomics analysis, cell suspensions were created from retinal cells, and processed with the 10x 3' kit. \n\n## Available data\n\nData has been downloaded and prepared for you from [GEO GSE202212](https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE202212). The count matrices are created with `cellranger`. To create the count tables, the EGFP sequence was added to the reference genome. The gene name of EGFP is `EGFP`. \n\nIn order to download the data, run:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nwget https://single-cell-transcriptomics.s3.eu-central-1.amazonaws.com/projects/data/project1.tar.gz\ntar -xzcvf project1.tar.gz\n```\n:::\n\n\n\n\n\nAfter extracting, a directory `project1` appears with the following content:\n\n\n```\n.\n├── data\n│   ├── 10dp1\n│   │   ├── filtered_feature_bc_matrix\n│   │   │   ├── barcodes.tsv.gz\n│   │   │   ├── features.tsv.gz\n│   │   │   └── matrix.mtx.gz\n│   │   └── web_summary.html\n│   ├── 10dp2\n│   │   ├── filtered_feature_bc_matrix\n│   │   │   ├── barcodes.tsv.gz\n│   │   │   ├── features.tsv.gz\n│   │   │   └── matrix.mtx.gz\n│   │   └── web_summary.html\n│   ├── 3dp1\n│   │   ├── filtered_feature_bc_matrix\n│   │   │   ├── barcodes.tsv.gz\n│   │   │   ├── features.tsv.gz\n│   │   │   └── matrix.mtx.gz\n│   │   └── web_summary.html\n│   ├── 3dp2\n│   │   ├── filtered_feature_bc_matrix\n│   │   │   ├── barcodes.tsv.gz\n│   │   │   ├── features.tsv.gz\n│   │   │   └── matrix.mtx.gz\n│   │   └── web_summary.html\n│   ├── 7dp1\n│   │   ├── filtered_feature_bc_matrix\n│   │   │   ├── barcodes.tsv.gz\n│   │   │   ├── features.tsv.gz\n│   │   │   └── matrix.mtx.gz\n│   │   └── web_summary.html\n│   ├── 7dp2\n│   │   ├── filtered_feature_bc_matrix\n│   │   │   ├── barcodes.tsv.gz\n│   │   │   ├── features.tsv.gz\n│   │   │   └── matrix.mtx.gz\n│   │   └── web_summary.html\n│   ├── ctrl1\n│   │   ├── filtered_feature_bc_matrix\n│   │   │   ├── barcodes.tsv.gz\n│   │   │   ├── features.tsv.gz\n│   │   │   └── matrix.mtx.gz\n│   │   └── web_summary.html\n│   └── ctrl2\n│       ├── filtered_feature_bc_matrix\n│       │   ├── barcodes.tsv.gz\n│       │   ├── features.tsv.gz\n│       │   └── matrix.mtx.gz\n│       └── web_summary.html\n└── paper.pdf\n\n17 directories, 33 files\n```\n\nShowing us that we have two replicates per treatment, and four treatments:\n\n- ctrl: controls\n- 3dp: 3 days post injury\n- 7dp: 7 days post injury\n- 10dp: 10 days post injury\n\nNow create a new project in the `project1` directory (Project (None) > New Project ...), and create Seurat object from the count matrices:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(Seurat)\n\n# vector of paths to all sample directories\ndatadirs <- list.files(path = \"data\", full.names = TRUE) \n\n# get the sample names\n# replace underscores with hyphen to correctly extract sample names later on\nsamples <- basename(datadirs) |> gsub(\"_\", \"-\", x = _)\n\n# files are in filter_feature_bc_matrix\ndatadirs <- paste(datadirs, \"filtered_feature_bc_matrix\", sep = \"/\")\n\nnames(datadirs) <- samples\n\n# create a large sparse matrix from all count data\nsparse_matrix <- Seurat::Read10X(data.dir = datadirs)\n\n# create a seurat object from sparse matrix\nseu <- Seurat::CreateSeuratObject(counts = sparse_matrix,\n                                  project = \"Zebrafish\")\n```\n:::\n\n\n\n\n\n::: {.callout-important}\n## Project exercise\n\nwith this dataset, go through the steps we have performed during the course, and try to reproduce the results provided in the paper. Pay specific attention to quality control, clustering and annotation. \n:::\n\n## Tips\n\n- For mitochondrial genes, ribosomol genes and hemoglobin genes you can use the following patterns: `\"^mt-\"`, `\"^rp[sl]\"` and `\"^hb[^(p)]\"`. \n- Work iterative; meaning that based on results of an analyis, adjust the previous analysis. For example, if clustering is not according to cell types, try to adjust the number of components or the resolution. \n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}